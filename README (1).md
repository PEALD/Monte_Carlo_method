# Monte Carlo method
Алгоритм расчета резервов необходимых для компенсации возможных потерь по ссудам.
## Цель задания
Рассчитать размер резервов («подушки безопасности») для компенсации ожидаемых убытков по данному кредитному портфелю на горизонте одного года. Результат должен включать:
- Моделирование методом Монте-Карло ожидаемых потерь (Expected Losses) с 50 000 симуляций
- График плотности распределения EL с указанием его среднего, медианы и 95 перцентиля 

---

### Базовый расчет ожидаемых потерь (EL)
`EL = EAD × PD × LGD`, где:  
- **EAD** (Exposure at Default) — непогашенная сумма кредита на момент дефолта.  
- **PD** (Probability of Default) — вероятность дефолта заемщика.  
- **LGD** (Loss Given Default) — доля потерь при наступлении дефолта (учитывает залоги/гарантии).

### Кредитный портфель
| Loan | EAD  | PD   | LGD | EL  |
|--------|------|------|-----|-----|
| A      | 1000 | 0.02 | 0.2 | 4   |
| B      | 2000 | 0.01 | 0.3 | 6   |
| C      | 2500 | 0.015| 0.4 | 15  |
| **Итого** | 5500 | — | — | **25** |

---

### Моделирование методом Монте-Карло

1. Вероятность дефолта (**PD**) моделируется логнормальным распределением с параметрами `PD-mean` и `PD-sigma` 
2. Доля потерь при наступлении дефолта  (**LGD**) моделируется с помощью beta-PERT распределения с параметрами `LGD-min`, `LGD-mode` и `LGD-max`

**Параметры для моделирования:**
| Loan | EAD  | PD-mean | PD-sigma | LGD-min | LGD-mode | LGD-max |
|--------|------|---------|----------|---------|----------|---------|
| A      | 1000 | 0.02    | 0.007    | 0       | 0.2      | 1       |
| B      | 2000 | 0.01    | 0.005    | 0       | 0.3      | 1       |
| C      | 2500 | 0.015   | 0.01     | 0       | 0.4      | 1       |


---
